## ğŸŸ¦ ì›í‹°ë“œ í”„ë¦¬ì˜¨ë³´ë”© ì¸í„´ì‹­ 1ì£¼ì°¨ ê³¼ì œ - 5íŒ€

- ë³¸ repositoryëŠ” [ì›í‹°ë“œ í”„ë¦¬ì˜¨ë³´ë”© í”„ë¡ íŠ¸ì—”ë“œ ì„ ë°œ ê³¼ì œ](https://github.com/walking-sunset/selection-task)ë¥¼ ë‹¤ë¤˜ìŠµë‹ˆë‹¤.
- ê°™ì€ ê¸°ëŠ¥ì„ ì–´ë–»ê²Œ êµ¬í˜„í–ˆëŠ”ì§€ íŒ€ì›ë“¤ê³¼ í† ì˜í•˜ê³ , ê°€ì¥ ë‚˜ì€ ë°©ì‹ì´ ë¬´ì—‡ì¸ì§€ ê³ ë¯¼í•˜ì˜€ìŠµë‹ˆë‹¤.
- í† ì˜ë¥¼ í†µí•´ ë„ì¶œëœ Best Practiceë¥¼ í•©ì¹œ ê²°ê³¼ë¬¼ì…ë‹ˆë‹¤.

### ê¸°ìˆ  ìŠ¤íƒ

<div>
  <img src="https://img.shields.io/badge/react-61DAFB?style=flat&logo=react&logoColor=white">
  <img src="https://img.shields.io/badge/typescript-3178C6?style=flat&logo=typescript&logoColor=white">
  <img src="https://img.shields.io/badge/styled components-DB7093?style=flat&logo=styledcomponents&logoColor=white">
  <img src="https://img.shields.io/badge/axios-5A29E4?style=flat&logo=axios&logoColor=white">
  <img src="https://img.shields.io/badge/react router-CA4245?style=flat&logo=react router&logoColor=white">
</div>

## ğŸ—“ï¸ í”„ë¡œì íŠ¸ ê¸°ê°„

### 2023.8.22 ~ 2023.8.25 (4ì¼)

<br />

## ğŸ“Œ í”„ë¡œì íŠ¸ ì‹¤í–‰ ë°©ë²•

1. Clone the repo

```javascript
$ git clone https://github.com/wanted-pre-onboarding-12th-team-5/pre-onboarding-12th-1-5.git
```

2. Install NPM packages

```javascript
$ npm install
```

3. Getting Started

```javascript
$ npm start
```

<br/>

## ğŸš€ ë°°í¬

### [ì›í‹°ë“œ í”„ë¦¬ì˜¨ë³´ë”© ì¸í„´ì‹­ 1ì°¨ ê³¼ì œ - 5íŒ€ ë°°í¬ ë§í¬](http://preonboarding-frontend-12th-1-5.s3-website.ap-northeast-2.amazonaws.com/)

| ğŸ” í…ŒìŠ¤íŠ¸ ê³„ì • |                  |
| :------------: | :--------------: |
|     EMAIL      | team5@wanted.com |
|       PW       |     wanted05     |

## â­ï¸ íŒ€ êµ¬ì„±ì› ë° ì—­í• 

|                          ìµœì§€ìœ¤                           |                           ìœ ì§€í˜œ                           |                           ê¹€íƒœê·¼                           |                          ìµœì„ í˜¸                           |                          ì´íš¨ì‹                           |                 ê¹€í˜•ì¼(íŒ€ì¥)                 |
| :-------------------------------------------------------: | :--------------------------------------------------------: | :--------------------------------------------------------: | :-------------------------------------------------------: | :-------------------------------------------------------: | :------------------------------------------: |
|          [chichoon](https://github.com/chichoon)          |        [dbwlgp1yng](https://github.com/dbwlgp1yng)         |       [taegeun1111](https://github.com/taegeun1111)        |        [preferchoi](https://github.com/preferchoi)        |           [teetee6](https://github.com/teetee6)           | [brother1](https://github.com/brother1-4752) |
| ![](https://avatars.githubusercontent.com/u/37893979?v=4) | ![](https://avatars.githubusercontent.com/u/126330595?v=4) | ![](https://avatars.githubusercontent.com/u/122959190?v=4) | ![](https://avatars.githubusercontent.com/u/74041004?v=4) | ![](https://avatars.githubusercontent.com/u/17748068?v=4) |            ![Alt text](image.png)            |
|                        íˆ¬ë‘ë¦¬ìŠ¤íŠ¸                         |                           ë¼ìš°íŒ…                           |                            íˆ¬ë‘                            |                         íšŒì›ê°€ì…                          |                          ë¡œê·¸ì¸                           |                í”„ë¡œì íŠ¸ ì…‹íŒ…                 |

<br />

## [ğŸ“‹ í˜‘ì—… ì»¨ë²¤ì…˜](https://www.notion.so/brotherone/5-fd85a49386724f34abe49a309e9b9e3e)

### 1. Husky && lint-staged (commitlint ì ìš©)

### 2. Commit message

| Tag Name | Explanation                                                            |
| -------- | ---------------------------------------------------------------------- |
| build    | ì‹œìŠ¤í…œ ë˜ëŠ” ì™¸ë¶€ ì¢…ì†ì„±ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë³€ê²½ì‚¬í•­ (npm, yarn ë ˆë²¨)      |
| chore    | ì½”ë“œë‚˜ ê¸°ëŠ¥ ë³€ê²½ ì—†ëŠ” ë‹¨ìˆœ ìˆ˜ì •                                        |
| docs     | documentation ë³€ê²½                                                     |
| feat     | ìƒˆë¡œìš´ ê¸°ëŠ¥                                                            |
| fix      | ë²„ê·¸ ìˆ˜ì •                                                              |
| refactor | ë²„ê·¸ë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì§€ ì•ŠëŠ” ì½”ë“œ ë³€ê²½, ë¦¬íŒ©í† ë§             |
| style    | ì½”ë“œ ì˜ë¯¸ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ” ë³€ê²½ì‚¬í•­(formatting, colons, white space) |

### 3. Issue && PR í…œí”Œë¦¿ í†µì¼

### 4. Git-flow branchì „ëµ(feat/ì„¸ë¶€ê¸°ëŠ¥ -> develop -> master)

<br />

### ğŸ—‚ï¸ í´ë” êµ¬ì¡°

```
ğŸ“¦src
 â”£ ğŸ“‚components
 â”£ ğŸ“‚hooks
 â”ƒ â”£ ğŸ“œindex.ts
 â”ƒ â”£ ğŸ“œuseCheckToken.ts
 â”ƒ â”— ğŸ“œuseInput.ts
 â”£ ğŸ“‚pages
 â”ƒ â”£ ğŸ“‚Home
 â”ƒ â”£ ğŸ“‚SignIn
 â”ƒ â”£ ğŸ“‚SignUp
 â”ƒ â”£ ğŸ“‚Todo
 â”ƒ â”ƒ â”£ ğŸ“œAddTodoForm.tsx
 â”ƒ â”ƒ â”£ ğŸ“œTodoElement.tsx
 â”ƒ â”ƒ â”£ ğŸ“œTodoList.tsx
 â”ƒ â”ƒ â”£ ğŸ“œtodo.d.ts
 â”ƒ â”ƒ â”— ğŸ“œTodo.tsx
 â”ƒ â”— ğŸ“œindex.ts
 â”£ ğŸ“‚services
 â”ƒ â”£ ğŸ“œsignup.ts
 â”ƒ â”— ğŸ“œtodoInstance.ts
 â”£ ğŸ“‚styles
 â”£ ğŸ“‚types
 â”£ ğŸ“‚utils
 â”ƒ â”— ğŸ“œvalidateInput.ts
 â”£ ğŸ“œApp.tsx
 â”£ ğŸ“œindex.tsx
```

## ğŸ’¡ ìƒì„¸ ê¸°ëŠ¥

### 1. ë¡œê·¸ì¸

<details>
  <summary>ì„¤ëª…</summary>
  <div>
  
  ```jsx
import axios from 'axios';
```

ë°±ì—”ë“œì™€ ì†Œí†µí•  apiì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“­ë‹ˆë‹¤.

```jsx
const todoInstance = axios.create({
baseURL: 'https://www.pre-onboarding-selection-task.shop/',
headers: {
Authorization: Bearer ${localStorage.getItem('token')},
'Content-Type': 'application/json',
},
});

```

ë‹¤ìŒê³¼ ê°™ì´ signIn apiì¸ìŠ¤í„´ìŠ¤ ë©”ì†Œë“œë¥¼ ë§Œë“¤ê³  exportí•œ í›„,

```jsx
export function signIn(email: string, password: string) {
  return todoInstance.post('/auth/signin', { email, password });
}
```

í•´ë‹¹ api ë©”ì†Œë“œë¥¼ ê°€ì ¸ë‹¤ ì”ë‹ˆë‹¤! ê·¸ëŸ¬ë©´ ì¼ì¼ì´ axiosë¥¼ importí•  í•„ìš”ê°€ ì—†ì–´ ìœ ìš©í•©ë‹ˆë‹¤!

```jsx
const handleSignInSubmit = async (e: FormEvent<HTMLFormElement>) => {
e.preventDefault();
try {
const response = await signIn(email, password);
console.log(response);
if (response.status === 200) {
alert('ë¡œê·¸ì¸ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤. \níˆ¬ë‘ë¦¬ìŠ¤íŠ¸ í™”ë©´ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
localStorage.setItem('access_token', response.data.access_token);
navigate('/todo');
} else {
alert(response);
}
} catch (error) {
const axiosError = error as AxiosError;
console.log(axiosError.response?.data);
setEmail('');
setPassword('');
}
};
```

  </div>
</details>

### 2. ë¼ìš°íŒ…

<details>
  <summary>ì„¤ëª…</summary>
  <div>

```js
const token = localStorage.getItem('access_token');
```

'useCheckLogin' ì»¤ìŠ¤í…€ í›…ì„ í†µí•´ ë¡œê·¸ì¸ ìƒíƒœë¥¼ í™•ì¸í•˜ê³  í˜ì´ì§€ ì´ë™ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

```js
const pathname = window.location.pathname;
```

window.locationì˜ pathnameì„ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ í˜ì´ì§€ì˜ ê²½ë¡œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

```js
const nav = useNavigate();
```

useNavigate í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ìš°íŒ… ì²˜ë¦¬ë¥¼ í•©ë‹ˆë‹¤.

```js
if (token) {
  const allowedPaths = ['/signin', '/signup', '/'];
  if (allowedPaths.includes(pathname)) {
    navigate('/todo');
  }
} else {
  const restrictedPaths = ['/todo'];
  if (restrictedPaths.includes(pathname)) {
    navigate('/signin');
  }
}
```

ë‹¤ìŒê³¼ ê°™ì´, í˜ì´ì§€ ì´ë™ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ëœ(í† í°ì´ ìˆëŠ”) ìƒíƒœì—ì„œ íŠ¹ì • ê²½ë¡œ(/signin, /signup, /)ë¡œ ì ‘ê·¼ ì‹œ, ìë™ìœ¼ë¡œ í˜ì´ì§€ë¥¼ /todoë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ë˜ì§€ ì•Šì€(í† í°ì´ ì—†ëŠ”) ìƒíƒœì—ì„œ íŠ¹ì • ê²½ë¡œ(/todo)ë¡œ ì ‘ê·¼í•˜ëŠ” ê²½ìš°, /signin í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜í•©ë‹ˆë‹¤.

</div></details>

### 3. íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ í™”ë©´ê³¼ debouncingì—ëŸ¬ ì²˜ë¦¬ ë° ë°°í¬ ìë™í™”

<details>
  <summary>ì„¤ëª…</summary>
  <div>
íˆ¬ë£¨ë¦¬ìŠ¤íŠ¸ ì¶œë ¥ ë° ì—°ì†í•˜ì—¬ ì‚­ì œ ë²„íŠ¼ í´ë¦­ì‹œ ë°œìƒí•œ debouncing ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.

```js
const [isEditing, setIsEditing] = useState(false);

const handleClickDelete = async (todoId: number) => {
  if (clickEnabled) {
    const confirmDelete = window.confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');
    if (confirmDelete) {
      setClickEnabled(false);
      await deleteTodo(todoId).then(() => {
        setTodoList((prev) => prev.filter((element) => element.id !== todoId));
        setClickEnabled(true);
      });
    }
  }
};
```

ë”ë¶ˆì–´, AWS S3 ë°°í¬ ë° Github Actiondì„ í†µí•´ Repository Push ì‹œ Master ë¸Œëœì¹˜ì— ë°°í¬ ìë™í™”ë¥¼ í•˜ì˜€ìŠµë‹ˆë‹¤.

```yaml
name: CI/CD

on:
  push:
    branches:
      - master
  workflow_dispatch:

jobs:
  cicd:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          ref: 'master'
      - run: npm ci
      #      - run: npm run test
      - run: npm run build
      - name: deploy to s3
        uses: jakejarvis/s3-sync-action@master
        with:
          args: --delete
        env:
          AWS_S3_BUCKET: ${{ secrets.AWS_S3_BUCKET }}
          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          AWS_REGION: 'ap-northeast-2'
          SOURCE_DIR: 'build'
```

  </div>
<details>
